(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{35:function(t,e,n){"use strict";var r="https://api.themoviedb.org/3",c="c19c5b12e1a277621ccd20a2c2d3142a";e.a={fetchMovieDetails:function(t){return fetch("".concat(r,"/movie/").concat(t,"?api_key=").concat(c)).then((function(t){return t.json()}))},fetchMovieWithQuery:function(t){return fetch("".concat(r,"/search/movie?api_key=").concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false")).then((function(t){return t.json()})).then((function(t){return t.results}))},fetchPerson:function(t){return fetch("".concat(r,"/movie/").concat(t,"/credits?api_key=").concat(c)).then((function(t){return t.json()})).then((function(t){return t.cast}))},fetchReviews:function(t){return fetch("".concat(r,"/movie/").concat(t,"/reviews?api_key=").concat(c)).then((function(t){return t.json()})).then((function(t){return t.results}))},fetchTrandingMovies:function(){return fetch("".concat(r,"/trending/movie/week?api_key=").concat(c)).then((function(t){return t.json()}))}}},36:function(t,e,n){"use strict";var r=n(31),c=n(32),a=n(34),i=n(33),s=n(1),o=n(0),l=n(39),h=n.n(l),u=n(37),j=n.n(u),p=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(s.jsx)(h.a,{className:j.a.spinner,type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),n}(o.Component);e.a=p},37:function(t,e,n){t.exports={spinner:"Spinner_spinner__slLEt"}},40:function(t,e,n){t.exports={backButton:"MovieDetails_backButton__3B3K-",about:"MovieDetails_about__1QHcR",info:"MovieDetails_info__1OqWg",infoItem:"MovieDetails_infoItem__1A8SL",aditional:"MovieDetails_aditional__3tuAx",spinner:"MovieDetails_spinner__3rzan"}},75:function(t,e,n){"use strict";n.r(e);var r=n(31),c=n(32),a=n(34),i=n(33),s=n(1),o=n(0),l=n(35),h=n(7),u=n(10),j=n(2),p=n(36),f=function(t){var e=t.persons;return Object(s.jsx)("ul",{children:e.map((function(t){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{children:[Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(t.profile_path),alt:"There is no poster avalible",width:"120"}),Object(s.jsx)("p",{children:t.name}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Character:"})," ",t.character]})]},t.id)})}))})},b=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={persons:[],loading:!1,error:null},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),l.a.fetchPerson(this.props.match.params.movieId).then((function(e){return t.setState({persons:e})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.persons,n=t.loading,r=t.error;return Object(s.jsxs)(s.Fragment,{children:[r&&Object(s.jsx)("p",{children:r.message}),n&&Object(s.jsx)(p.a,{}),e.length>0&&!n&&Object(s.jsx)(f,{persons:e})]})}}]),n}(o.Component),d=function(t){var e=t.reviews;return Object(s.jsx)("ul",{children:e.map((function(t){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("li",{children:[Object(s.jsx)("p",{children:t.author}),Object(s.jsxs)("p",{children:[t.content," "]})]},t.id)})}))})},m=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={reviews:[],loading:!1,error:null},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({loading:!0}),l.a.fetchReviews(this.props.match.params.movieId).then((function(e){return t.setState({reviews:e})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.reviews,n=t.loading,r=t.error;return Object(s.jsxs)(s.Fragment,{children:[r&&Object(s.jsx)("p",{children:r.message}),n&&Object(s.jsx)(p.a,{}),e.length>0&&!n&&Object(s.jsx)(d,{reviews:e})]})}}]),n}(o.Component),v=n(40),O=n.n(v),x=function(t){var e=t.movieInfo;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:O.a.about,children:[Object(s.jsx)("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.poster_path),alt:e.title}),Object(s.jsxs)("div",{className:O.a.info,children:[Object(s.jsxs)("h2",{children:[e.title," (",Number.parseInt(e.release_date),")"]}),Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{className:O.a.infoItem,children:["User Score: ",10*e.vote_average," %"]}),Object(s.jsxs)("li",{className:O.a.infoItem,children:[Object(s.jsx)("p",{children:Object(s.jsx)("b",{children:"Overview"})}),e.overview]}),Object(s.jsxs)("li",{className:O.a.infoItem,children:[Object(s.jsx)("p",{children:Object(s.jsx)("b",{children:"Genres"})}),Object(s.jsx)("ul",{children:e.genres.map((function(t){return Object(s.jsx)("li",{children:t.name},t.id)}))})]})]})]})]})})},g=function(t){Object(a.a)(n,t);var e=Object(i.a)(n);function n(){var t;Object(r.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={movieInfo:null,loading:!1,error:null},t.handleBack=function(){var e=t.props.location.state;if(e&&e.from)return t.props.history.push(e.from);t.props.history.push(h.a.home)},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match;l.a.fetchMovieDetails(e.params.movieId).then((function(e){return t.setState({movieInfo:e})})).catch((function(e){return t.setState({error:e})})).finally((function(){return t.setState({loading:!1})}))}},{key:"render",value:function(){var t=this.state,e=t.movieInfo,n=t.loading,r=t.error,c=this.props.match;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{className:O.a.backButton,type:"button",onClick:this.handleBack,children:Object(s.jsx)("p",{children:"Go Back"})}),Object(s.jsx)("br",{}),r&&Object(s.jsx)("p",{children:r.message}),n&&Object(s.jsx)(p.a,{}),e&&!n&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x,{movieInfo:e}),Object(s.jsx)("p",{children:"Aditional Informations"}),Object(s.jsxs)("div",{className:O.a.aditional,children:[Object(s.jsx)(u.b,{to:{pathname:"".concat(c.url,"/cast"),state:{from:this.props.location.state&&this.props.location.state.from?this.props.location.state.from:""}},className:O.a.Cast,children:Object(s.jsx)("p",{children:"Cast"})}),Object(s.jsx)(u.b,{to:{pathname:"".concat(c.url,"/reviews"),state:{from:this.props.location.state&&this.props.location.state.from?this.props.location.state.from:""}},className:O.a.Reviews,children:Object(s.jsx)("p",{children:"Reviews"})})]}),Object(s.jsx)(j.a,{path:"".concat(c.path,"/cast"),component:b}),Object(s.jsx)(j.a,{path:"".concat(c.path,"/reviews"),component:m})]})]})}}]),n}(o.Component);e.default=g}}]);
//# sourceMappingURL=movieDetailsPage.db5f327a.chunk.js.map